import"./base-DJlLBwFh.js";import{v as x}from"./el-loading-28PTutTj.js";import{E as C}from"./el-button-Bq5AjPZk.js";import{d as b,ag as P,i as u,o as f,c as g,g as e,l as U,x as n,ah as i,a as E,w as R,q as w,u as k,b as S,ai as B,aj as N,t as A,p as D,m as M}from"./index-B-IKpVg7.js";/* empty css                   */import{E as p}from"./index-Dk-OH1kk.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-global-config-CP7RREsb.js";import"./use-form-item-CfHI9IsZ.js";import"./constants-BaP7aDkc.js";import"./index-riLredlm.js";const r=d=>(D("data-v-59c2033f"),d=d(),M(),d),j={class:"register-page"},q={class:"register-box"},z={class:"header"},L=r(()=>e("h1",null,"注册新账户",-1)),$={class:"content"},F={class:"row"},G=r(()=>e("p",null,"Username",-1)),H={class:"row"},J=r(()=>e("p",null,"Email",-1)),K={class:"row"},O=r(()=>e("p",null,"Verification Code",-1)),Q={class:"row"},W=r(()=>e("p",null,"Password",-1)),X={class:"row"},Y=r(()=>e("p",null,"Confirm Password",-1)),Z=b({__name:"Register",setup(d){P();const s=u({loginId:"",email:"",password:"",confirmPassword:"",code:""});k();const _=S(),c=u(!1),m=u(!1),l=u(0);let v=null;const h=async()=>{if(l.value>0)return;clearInterval(v),m.value=!0;const a=await B(s.value);l.value=60,v=setInterval(()=>{l.value>0?l.value--:clearInterval(v)},1e3),a.code==200?p({message:"验证码已发送至您的邮箱",type:"success"}):p({message:a.msg,type:"error"}),m.value=!1},I=async()=>{if(s.value.confirmPassword!=s.value.password){p({message:"两次密码不一致",type:"error"});return}c.value=!0;const a=await N(s.value);console.log(a),a.code==200?_.push({name:"login"}):p({message:a.msg,type:"error"}),c.value=!1};return(a,o)=>{const y=C,V=x;return f(),g("div",j,[e("div",q,[e("div",z,[L,e("p",{style:{"font-size":"12px","margin-top":"10px",color:"rgba(215,215,215,0.51)",cursor:"pointer"},onClick:o[0]||(o[0]=t=>U(_).push({name:"login"}))}," 已有帐户?点我登录")]),e("div",$,[e("div",F,[G,e("p",null,[n(e("input",{placeholder:"输入您的用户名","onUpdate:modelValue":o[1]||(o[1]=t=>s.value.loginId=t)},null,512),[[i,s.value.loginId]])])]),e("div",H,[J,e("p",null,[n(e("input",{type:"email",placeholder:"输入您的邮箱","onUpdate:modelValue":o[2]||(o[2]=t=>s.value.email=t)},null,512),[[i,s.value.email]]),E(y,{onClick:h,disabled:m.value,class:"send-code-btn"},{default:R(()=>[w(A(l.value==0?"发送验证码":l.value),1)]),_:1},8,["disabled"])])]),e("div",K,[O,e("p",null,[n(e("input",{placeholder:"输入邮箱验证码","onUpdate:modelValue":o[3]||(o[3]=t=>s.value.code=t)},null,512),[[i,s.value.code]])])]),e("div",Q,[W,e("p",null,[n(e("input",{type:"password",placeholder:"输入您的密码","onUpdate:modelValue":o[4]||(o[4]=t=>s.value.password=t),"show-password":""},null,512),[[i,s.value.password]])])]),e("div",X,[Y,e("p",null,[n(e("input",{type:"password",placeholder:"确认您的密码","onUpdate:modelValue":o[5]||(o[5]=t=>s.value.confirmPassword=t),"show-password":""},null,512),[[i,s.value.confirmPassword]])])]),n((f(),g("button",{onClick:I},[w("注册")])),[[V,c.value]])])])])}}}),pe=T(Z,[["__scopeId","data-v-59c2033f"]]);export{pe as default};
