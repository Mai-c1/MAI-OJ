import"./base-DJlLBwFh.js";import{E}from"./el-card-Bf00zvNI.js";import{E as C}from"./el-pagination-AGaXoik1.js";import"./el-input-Ckrm2KBb.js";/* empty css               */import"./el-select-DYIWrPI3.js";import"./el-scrollbar-DmZ_7fZk.js";import"./el-popper-C0mGw5af.js";import{E as P,a as w}from"./el-table-column-CvXrA2CE.js";import"./el-tooltip-l0sNRNKZ.js";import{E as k}from"./el-button-Bq5AjPZk.js";import{d as I,i as c,j as B,o as S,e as z,w as p,f as M,b as T,a as e,q as d,p as L,m as N,g}from"./index-B-IKpVg7.js";import{g as V,d as A}from"./problem-RtdkWATM.js";import{E as D}from"./el-message-box-DW9VbTfh.js";import"./el-overlay-DVqE9J7h.js";/* empty css                   */import{E as u}from"./index-Dk-OH1kk.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-global-config-CP7RREsb.js";import"./isEqual-D421XMZ4.js";import"./scroll-1aRBaJ3N.js";import"./index-DWz-Pt_U.js";import"./event-BB_Ol6Sd.js";import"./use-form-item-CfHI9IsZ.js";import"./constants-BaP7aDkc.js";import"./index-2j8ALnqu.js";import"./castArray-BJwNa5SD.js";import"./focus-trap-D4N9E80X.js";import"./_initCloneObject-349Eh7kT.js";import"./index-riLredlm.js";import"./httpAdmin-BanGTpNR.js";import"./aria-nkjrUMQ-.js";import"./validator-xYU3qUsW.js";import"./vnode-L42ox0x6.js";const $=i=>(L("data-v-e7616807"),i=i(),N(),i),j=$(()=>g("div",{class:"card-header"},[g("span",null,"题目管理")],-1)),q=I({__name:"ProblemManagerPage",setup(i){const _=T(),n=c(),l=c({page:1,pageSize:10,isAsc:void 0,sortBy:void 0,keyword:void 0,platform:void 0,tagList:void 0,difficulty:void 0}),s=async()=>{n.value=await V(l.value)},f=async o=>{console.log(o.id),_.push({name:"admin-problem-edit",params:{pid:o.id}})},b=async o=>{console.log(o),D.confirm("确定要删除吗?","Warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{const a=await A(o.id);u({type:"success",message:a.msg}),s()}).catch(()=>{u({type:"info",message:"删除失败"})})};return B(async()=>{s()}),(o,a)=>{const t=P,m=k,y=w,v=C,h=E;return n.value?(S(),z(h,{key:0,class:"problem-manager-page-box"},{header:p(()=>[j]),default:p(()=>[e(y,{data:n.value.records,style:{width:"100%"},"header-cell-style":{"text-align":"center",color:"#000","font-weight":"bold"},"cell-style":{"text-align":"center"}},{default:p(()=>[e(t,{prop:"id",label:"ID",width:"80"}),e(t,{prop:"displayId",label:"题目展示ID"}),e(t,{prop:"title",label:"题目标题"}),e(t,{prop:"difficulty",label:"难度"}),e(t,{prop:"platform",label:"所属平台"}),e(t,{prop:"author",label:"上传者"}),e(t,{label:"操作"},{default:p(r=>[e(m,{onClick:x=>f(r.row),type:"primary"},{default:p(()=>[d("编辑")]),_:2},1032,["onClick"]),e(m,{onClick:x=>b(r.row),type:"danger"},{default:p(()=>[d("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(v,{background:"",layout:"prev, pager, next",class:"page-box","current-page":l.value.page,"onUpdate:currentPage":a[0]||(a[0]=r=>l.value.page=r),"page-size":l.value.pageSize,"onUpdate:pageSize":a[1]||(a[1]=r=>l.value.pageSize=r),onCurrentChange:s,total:n.value.total,style:{float:"right",padding:"10px"}},null,8,["current-page","page-size","total"])]),_:1})):M("",!0)}}}),Ee=U(q,[["__scopeId","data-v-e7616807"]]);export{Ee as default};
