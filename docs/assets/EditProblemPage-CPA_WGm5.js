import{r as N,E as R}from"./base-DvbvbBHV.js";import{E as M}from"./el-card-COD-MnUM.js";import{E as T}from"./el-dialog-BXyoj-8w.js";import"./el-overlay-CsqbOrQ3.js";import{E as q,a as j}from"./el-form-item-C1MzpRF9.js";import{E as G}from"./el-button-eM0nICzE.js";import{b as W,a as H}from"./el-radio-group-Dx0gBDqt.js";/* empty css                        */import{E as J}from"./el-input-tt2YVnBp.js";import{_ as V}from"./RichTextEditor.vue_vue_type_script_setup_true_lang-CdWtr0qY.js";import{a as K,e as O}from"./problem-CCOIyZ2S.js";import{E as Q}from"./el-message-box-QWHFX1tv.js";import{E as X}from"./index-NiwP3CxB.js";import{d as Y,i as c,A as Z,j as ee,o as k,e as te,w as n,f as oe,g as t,t as x,a as o,q as _,c as U,h as le,l as se,F as ne,p as ae,m as ie}from"./index-LKtde7Go.js";import{_ as ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-global-config-Bzh3Re1N.js";import"./focus-trap-TWyvYMmg.js";import"./refs-wbxGPKOt.js";import"./event-BB_Ol6Sd.js";import"./constants-BKNBpI0e.js";import"./index--WTq78Ch.js";import"./scroll-DFhJK82i.js";import"./vnode-JMlPDt7W.js";import"./castArray-C1_3P-VM.js";import"./use-form-item-A1Lv5lMY.js";import"./_baseClone-BB7YdJx2.js";import"./_initCloneObject-CtYayvLz.js";import"./index-riLredlm.js";import"./httpAdmin-BbXC_-kD.js";import"./aria-nkjrUMQ-.js";import"./validator-BGTowSNF.js";const i=v=>(ae("data-v-c58647dd"),v=v(),ie(),v),de={style:{"font-size":"1.5em"}},me={class:"content-box"},pe={class:"info"},re={class:"item"},ce=i(()=>t("p",null,"展示ID",-1)),_e={class:"item"},ve=i(()=>t("p",null,"题目名称",-1)),fe={class:"info"},ge={class:"item"},Ve=i(()=>t("p",null,"时间限制(ms)",-1)),be={class:"item"},ye=i(()=>t("p",null,"空间限制(mb)",-1)),Ee={class:"item"},xe=i(()=>t("p",null,"栈限制(mb)",-1)),he={class:"item"},ke=i(()=>t("p",null,"难度",-1)),Ce={class:"example-box"},Ie={style:{"margin-bottom":"15px","font-size":"18px",display:"flex","align-items":"center"}},Ue={class:"eit"},Pe={class:"eit"},$e={class:"add-example-box"},we={class:"dialog-footer"},Be={class:"item"},Le=i(()=>t("p",null,"题目描述",-1)),Se={class:"io-desc"},ze={class:"item"},Ae=i(()=>t("p",null,"输入描述",-1)),De={class:"item"},Fe=i(()=>t("p",null,"输出描述",-1)),Ne={class:"io-desc"},Re={class:"item"},Me=i(()=>t("p",null,"数据范围描述",-1)),Te={class:"item"},qe=i(()=>t("p",null,"提示",-1)),je={class:"btn-box"},Ge=Y({__name:"EditProblemPage",props:{pid:{}},setup(v){const P=v,b=c(!1),y=c(),E=c(),d=c([]),p=c([]),C=Z(()=>{let a="";for(let e=0;e<d.value.length;e++)a+="<input>".concat(d.value[e],"</input><output>").concat(p.value[e],"</output>");return a}),s=c(),$=()=>{d.value.push(y.value),p.value.push(E.value),h()},h=()=>{y.value="",E.value="",b.value=!1},w=a=>{Q.confirm("确定要删除这个题目样例吗?","Warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{d.value.splice(a,1),p.value.splice(a,1)})},B=async()=>{s.value.examples=C.value;const a=await O(s.value);X({message:a.msg,type:"success"})},L=a=>{const e=/<input>([\s\S]*?)<\/input>/g,u=/<output>([\s\S]*?)<\/output>/g;d.value=a.match(e).map(m=>m.replace(/<input>|<\/input>/g,"")),p.value=a.match(u).map(m=>m.replace(/<output>|<\/output>/g,"")),console.log(a),console.log(d.value),console.log(p.value),console.log(C.value)},S=async()=>{var e;const a=await K(P.pid);s.value=a.data,L((e=s.value)==null?void 0:e.examples)};return ee(()=>{S()}),(a,e)=>{const u=J,m=W,z=H,r=G,f=q,A=R,I=j,D=T,F=M;return s.value?(k(),te(F,{key:0,class:"edit-problem-page-box"},{header:n(()=>[t("span",de,x(a.$route.meta.title),1)]),default:n(()=>[t("div",me,[t("div",pe,[t("div",re,[ce,o(u,{modelValue:s.value.displayId,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value.displayId=l)},null,8,["modelValue"])]),t("div",_e,[ve,o(u,{modelValue:s.value.title,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.title=l)},null,8,["modelValue"])])]),t("div",fe,[t("div",ge,[Ve,o(u,{modelValue:s.value.timeLimit,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.timeLimit=l)},null,8,["modelValue"])]),t("div",be,[ye,o(u,{modelValue:s.value.memoryLimit,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.memoryLimit=l)},null,8,["modelValue"])]),t("div",Ee,[xe,o(u,{modelValue:s.value.stackLimit,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.stackLimit=l)},null,8,["modelValue"])])]),t("div",he,[ke,o(z,{modelValue:s.value.difficulty,"onUpdate:modelValue":e[5]||(e[5]=l=>s.value.difficulty=l)},{default:n(()=>[o(m,{label:"简单",value:"0"}),o(m,{label:"中等",value:"1"}),o(m,{label:"困难",value:"2"})]),_:1},8,["modelValue"])]),t("div",Ce,[o(I,null,{default:n(()=>[o(f,null,{default:n(()=>[o(r,{type:"primary",onClick:e[6]||(e[6]=l=>b.value=!0)},{default:n(()=>[_("添加题目样例")]),_:1}),o(r,{type:"success",onClick:e[7]||(e[7]=l=>a.$router.push({name:"admin-problem-case",query:{pid:a.pid,displayId:s.value.displayId}}))},{default:n(()=>[_(" 管理评测用例 ")]),_:1})]),_:1}),(k(!0),U(ne,null,le(d.value,(l,g)=>(k(),U("div",{key:g},[t("p",Ie,[t("span",null,"第"+x(g+1)+"组样例",1),o(A,{style:{"margin-left":"5px",color:"#c74343"},onClick:We=>w(g)},{default:n(()=>[o(se(N))]),_:2},1032,["onClick"])]),o(f,{label:"输入"},{default:n(()=>[t("span",Ue,x(d.value[g]),1)]),_:2},1024),o(f,{label:"输出"},{default:n(()=>[t("span",Pe,x(p.value[g]),1)]),_:2},1024)]))),128))]),_:1}),o(D,{modelValue:b.value,"onUpdate:modelValue":e[10]||(e[10]=l=>b.value=l),title:"添加测试样例","before-close":h},{footer:n(()=>[t("div",we,[o(r,{onClick:h},{default:n(()=>[_("Cancel")]),_:1}),o(r,{type:"primary",onClick:$},{default:n(()=>[_(" Confirm ")]),_:1})])]),default:n(()=>[t("div",$e,[o(I,null,{default:n(()=>[o(f,{label:"输入"},{default:n(()=>[o(u,{modelValue:y.value,"onUpdate:modelValue":e[8]||(e[8]=l=>y.value=l),type:"textarea",rows:"5",resize:"none"},null,8,["modelValue"])]),_:1}),o(f,{label:"输出"},{default:n(()=>[o(u,{modelValue:E.value,"onUpdate:modelValue":e[9]||(e[9]=l=>E.value=l),type:"textarea",rows:"5",resize:"none"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),t("div",Be,[Le,o(V,{content:s.value.description,"onUpdate:content":e[11]||(e[11]=l=>s.value.description=l)},null,8,["content"])]),t("div",Se,[t("div",ze,[Ae,o(V,{content:s.value.input,"onUpdate:content":e[12]||(e[12]=l=>s.value.input=l)},null,8,["content"])]),t("div",De,[Fe,o(V,{content:s.value.output,"onUpdate:content":e[13]||(e[13]=l=>s.value.output=l)},null,8,["content"])])]),t("div",Ne,[t("div",Re,[Me,o(V,{content:s.value.constraints,"onUpdate:content":e[14]||(e[14]=l=>s.value.constraints=l)},null,8,["content"])]),t("div",Te,[qe,o(V,{content:s.value.notes,"onUpdate:content":e[15]||(e[15]=l=>s.value.notes=l)},null,8,["content"])])])]),t("div",je,[o(r,{type:"primary",onClick:B},{default:n(()=>[_("创建题目")]),_:1}),o(r,{onClick:e[16]||(e[16]=l=>a.$router.back())},{default:n(()=>[_("返回")]),_:1})])]),_:1})):oe("",!0)}}}),ht=ue(Ge,[["__scopeId","data-v-c58647dd"]]);export{ht as default};
