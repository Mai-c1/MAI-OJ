import{r as F,E as N}from"./base-Ka2KZoYH.js";import{E as S}from"./el-card-Oo7BEc2D.js";import{E as M}from"./el-dialog-BQC55F59.js";import"./el-overlay-DUbqhrMD.js";import{E as R,a as T}from"./el-form-item-DqAxup7k.js";import{E as j}from"./el-button-wNzNAogA.js";import{b as q,a as G}from"./el-radio-group-DUuvUhJg.js";/* empty css                        */import{E as W}from"./el-input-B0t23iqQ.js";import{_}from"./RichTextEditor.vue_vue_type_script_setup_true_lang-B5C08RUD.js";import{b as H}from"./problem-CGZC5dUj.js";import{d as J,i as m,A as K,j as O,o as k,e as Q,w as n,f as X,b as Y,g as t,t as g,a as o,q as v,c as I,h as Z,l as ee,F as te,p as oe,m as le}from"./index-CS6SEU-6.js";import{E as se}from"./el-message-box-CeyWqkmH.js";import{E as ne}from"./index-CDmpcwB0.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-global-config-AkHI4voN.js";import"./focus-trap-CYXZ00VD.js";import"./refs-CichZi40.js";import"./event-BB_Ol6Sd.js";import"./constants-D8tHeVOq.js";import"./index-BIKjgQSY.js";import"./scroll-BIrBud54.js";import"./vnode-DHCEBWgO.js";import"./castArray-BBrPV4Ov.js";import"./use-form-item-TS4f4MsT.js";import"./_baseClone-HA74Ndxl.js";import"./_initCloneObject-DTRei0L9.js";import"./index-riLredlm.js";import"./httpAdmin-CJWFygbr.js";import"./aria-nkjrUMQ-.js";import"./validator-svttBgG5.js";const a=f=>(oe("data-v-ee39d58c"),f=f(),le(),f),ie={style:{"font-size":"1.5em"}},ue={class:"content-box"},de={class:"info"},me={class:"item"},pe=a(()=>t("p",null,"展示ID",-1)),re={class:"item"},ce=a(()=>t("p",null,"题目名称",-1)),_e={class:"info"},ve={class:"item"},fe=a(()=>t("p",null,"时间限制(ms)",-1)),Ve={class:"item"},be=a(()=>t("p",null,"空间限制(mb)",-1)),ye={class:"item"},Ee=a(()=>t("p",null,"栈限制(mb)",-1)),ge={class:"item"},xe=a(()=>t("p",null,"难度",-1)),he={class:"example-box"},ke={style:{"margin-bottom":"15px","font-size":"18px",display:"flex","align-items":"center"}},Ce={class:"eit"},Ue={class:"eit"},Ie={class:"add-example-box"},Le={class:"dialog-footer"},Be={class:"item"},we=a(()=>t("p",null,"题目描述",-1)),$e={class:"io-desc"},Pe={class:"item"},Ae=a(()=>t("p",null,"输入描述",-1)),ze={class:"item"},De=a(()=>t("p",null,"输出描述",-1)),Fe={class:"io-desc"},Ne={class:"item"},Se=a(()=>t("p",null,"数据范围描述",-1)),Me={class:"item"},Re=a(()=>t("p",null,"提示",-1)),Te={class:"btn-box"},je=J({__name:"AddProblemPage",setup(f){const V=m(!1),b=m(),y=m(),d=m([]),E=m([]),C=K(()=>{let i="";for(let e=0;e<d.value.length;e++)i+="<input>".concat(d.value[e],"</input><output>").concat(E.value[e],"</output>");return i}),s=m({displayId:"",title:"",timeLimit:1e3,memoryLimit:1024,stackLimit:128,description:"",input:"",output:"",constraints:"",examples:C.value,notes:"",difficulty:0}),L=()=>{d.value.push(b.value),E.value.push(y.value),x()},x=()=>{b.value="",y.value="",V.value=!1},B=i=>{se.confirm("确定要删除这个题目样例吗?","Warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{d.value.splice(i,1),E.value.splice(i,1)})},w=Y(),$=async()=>{s.value.examples=C.value;const i=await H(s.value);w.push({name:"admin-problem-list"}),ne({message:i.msg,type:"success"})};return O(async()=>{}),(i,e)=>{const u=W,h=q,P=G,p=j,r=R,A=N,U=T,z=M,D=S;return s.value?(k(),Q(D,{key:0,class:"edit-problem-page-box"},{header:n(()=>[t("span",ie,g(i.$route.meta.title),1)]),default:n(()=>[t("div",ue,[t("div",de,[t("div",me,[pe,o(u,{modelValue:s.value.displayId,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value.displayId=l)},null,8,["modelValue"])]),t("div",re,[ce,o(u,{modelValue:s.value.title,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.title=l)},null,8,["modelValue"])])]),t("div",_e,[t("div",ve,[fe,o(u,{modelValue:s.value.timeLimit,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.timeLimit=l)},null,8,["modelValue"])]),t("div",Ve,[be,o(u,{modelValue:s.value.memoryLimit,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.memoryLimit=l)},null,8,["modelValue"])]),t("div",ye,[Ee,o(u,{modelValue:s.value.stackLimit,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.stackLimit=l)},null,8,["modelValue"])])]),t("div",ge,[xe,o(P,{modelValue:s.value.difficulty,"onUpdate:modelValue":e[5]||(e[5]=l=>s.value.difficulty=l)},{default:n(()=>[o(h,{label:"简单",value:"0"}),o(h,{label:"中等",value:"1"}),o(h,{label:"困难",value:"2"})]),_:1},8,["modelValue"])]),t("div",he,[o(U,null,{default:n(()=>[o(r,null,{default:n(()=>[o(p,{type:"primary",onClick:e[6]||(e[6]=l=>V.value=!0)},{default:n(()=>[v("添加题目样例")]),_:1})]),_:1}),(k(!0),I(te,null,Z(d.value,(l,c)=>(k(),I("div",{key:c},[t("p",ke,[t("span",null,"第"+g(c+1)+"组样例",1),o(A,{style:{"margin-left":"5px",color:"#c74343"},onClick:qe=>B(c)},{default:n(()=>[o(ee(F))]),_:2},1032,["onClick"])]),o(r,{label:"输入"},{default:n(()=>[t("span",Ce,g(d.value[c]),1)]),_:2},1024),o(r,{label:"输出"},{default:n(()=>[t("span",Ue,g(E.value[c]),1)]),_:2},1024)]))),128))]),_:1}),o(z,{modelValue:V.value,"onUpdate:modelValue":e[9]||(e[9]=l=>V.value=l),title:"添加测试样例","before-close":x},{footer:n(()=>[t("div",Le,[o(p,{onClick:x},{default:n(()=>[v("Cancel")]),_:1}),o(p,{type:"primary",onClick:L},{default:n(()=>[v(" Confirm ")]),_:1})])]),default:n(()=>[t("div",Ie,[o(U,null,{default:n(()=>[o(r,{label:"输入"},{default:n(()=>[o(u,{modelValue:b.value,"onUpdate:modelValue":e[7]||(e[7]=l=>b.value=l),type:"textarea",rows:"5",resize:"none"},null,8,["modelValue"])]),_:1}),o(r,{label:"输出"},{default:n(()=>[o(u,{modelValue:y.value,"onUpdate:modelValue":e[8]||(e[8]=l=>y.value=l),type:"textarea",rows:"5",resize:"none"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),t("div",Be,[we,o(_,{content:s.value.description,"onUpdate:content":e[10]||(e[10]=l=>s.value.description=l)},null,8,["content"])]),t("div",$e,[t("div",Pe,[Ae,o(_,{content:s.value.input,"onUpdate:content":e[11]||(e[11]=l=>s.value.input=l)},null,8,["content"])]),t("div",ze,[De,o(_,{content:s.value.output,"onUpdate:content":e[12]||(e[12]=l=>s.value.output=l)},null,8,["content"])])]),t("div",Fe,[t("div",Ne,[Se,o(_,{content:s.value.constraints,"onUpdate:content":e[13]||(e[13]=l=>s.value.constraints=l)},null,8,["content"])]),t("div",Me,[Re,o(_,{content:s.value.notes,"onUpdate:content":e[14]||(e[14]=l=>s.value.notes=l)},null,8,["content"])])])]),t("div",Te,[o(p,{type:"primary",onClick:$},{default:n(()=>[v("创建题目")]),_:1}),o(p,{onClick:e[15]||(e[15]=l=>i.$router.back())},{default:n(()=>[v("返回")]),_:1})])]),_:1})):X("",!0)}}}),gt=ae(je,[["__scopeId","data-v-ee39d58c"]]);export{gt as default};
